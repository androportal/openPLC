EESchema Schematic File Version 2  date 04/09/2012 12:40:59
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:special
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:ftdichip
LIBS:openplc-cache
EELAYER 25  0
EELAYER END
$Descr A4 11700 8267
encoding utf-8
Sheet 1 1
Title "OpenPLC Main Board"
Date "4 sep 2012"
Rev "0"
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
Text Notes 3300 4400 2    60   ~ 0
FTDI USB Circuit
Text Notes 9200 900  2    60   ~ 0
ATmega328P Connections
Text Notes 5550 1300 2    60   ~ 0
Auto-reset Circuit
Text Notes 2050 1150 2    60   ~ 0
Power Source
Wire Wire Line
	4050 2250 4700 2250
Wire Wire Line
	9100 3500 9650 3500
Wire Wire Line
	9100 3300 9650 3300
Wire Wire Line
	9100 3100 9650 3100
Wire Wire Line
	9100 2550 9650 2550
Wire Wire Line
	9100 2350 9650 2350
Wire Wire Line
	9100 2150 9650 2150
Wire Wire Line
	9100 1400 9650 1400
Wire Wire Line
	9100 1600 9650 1600
Wire Wire Line
	9100 1800 9650 1800
Wire Wire Line
	9900 3000 9900 3100
Wire Wire Line
	9900 3000 9100 3000
Connection ~ 2550 2700
Wire Wire Line
	2600 2700 2550 2700
Connection ~ 3050 1900
Wire Wire Line
	3000 1900 3050 1900
Wire Wire Line
	2550 2000 2550 1750
Wire Wire Line
	10850 2900 10450 2900
Wire Wire Line
	4600 1500 4600 1650
Wire Wire Line
	5750 2650 5750 2250
Wire Wire Line
	5750 2250 5700 2250
Wire Wire Line
	4700 2650 4600 2650
Connection ~ 7050 3500
Wire Wire Line
	7050 2500 7050 3700
Wire Wire Line
	10350 2250 9750 2250
Wire Wire Line
	9750 2250 9750 2000
Wire Wire Line
	9750 2000 9100 2000
Connection ~ 10900 1950
Wire Wire Line
	10900 1950 11100 1950
Wire Wire Line
	11100 1950 11100 2050
Connection ~ 10000 1650
Connection ~ 7050 3600
Connection ~ 7050 1300
Wire Wire Line
	4400 5300 4450 5300
Wire Wire Line
	4450 5300 4450 5200
Wire Wire Line
	4450 5200 4950 5200
Connection ~ 5200 5750
Wire Wire Line
	5200 5750 5350 5750
Wire Wire Line
	5350 5750 5350 5450
Wire Wire Line
	4600 5900 4550 5900
Wire Wire Line
	4150 5900 4050 5900
Wire Wire Line
	4050 5900 4050 5800
Wire Wire Line
	4050 5800 3900 5800
Wire Wire Line
	4400 4900 3900 4900
Wire Wire Line
	1400 5300 2050 5300
Connection ~ 1650 4850
Wire Wire Line
	1650 6300 1650 4750
Wire Wire Line
	1650 6700 1650 6750
Connection ~ 1650 4950
Wire Wire Line
	1650 4950 2050 4950
Connection ~ 2850 6900
Wire Wire Line
	2850 6800 2850 6900
Connection ~ 3150 6900
Wire Wire Line
	3150 6800 3150 6900
Wire Wire Line
	1200 2050 1250 2050
Wire Wire Line
	1250 2050 1250 2150
Wire Wire Line
	1200 1850 1450 1850
Connection ~ 3050 1450
Wire Wire Line
	2150 2250 2050 2250
Wire Wire Line
	2050 2250 2050 1450
Wire Wire Line
	2050 1450 2150 1450
Wire Wire Line
	2950 1450 3050 1450
Wire Wire Line
	3050 2250 2950 2250
Wire Wire Line
	1950 1850 2050 1850
Connection ~ 2050 1850
Wire Wire Line
	1300 1750 1300 1850
Connection ~ 1300 1850
Wire Wire Line
	2700 6800 2700 6900
Wire Wire Line
	2700 6900 3300 6900
Wire Wire Line
	3300 6900 3300 6800
Connection ~ 3000 6900
Wire Wire Line
	3000 7000 3000 6800
Wire Wire Line
	2050 5600 1650 5600
Connection ~ 1650 5600
Wire Wire Line
	1650 4850 2050 4850
Wire Wire Line
	1400 5200 2050 5200
Wire Wire Line
	1500 5500 1500 5400
Wire Wire Line
	1500 5400 1400 5400
Wire Wire Line
	4400 5000 3900 5000
Wire Wire Line
	4150 5600 4050 5600
Wire Wire Line
	4050 5600 4050 5700
Wire Wire Line
	4050 5700 3900 5700
Wire Wire Line
	4600 5600 4550 5600
Wire Wire Line
	5100 5600 5200 5600
Wire Wire Line
	5200 5600 5200 5900
Wire Wire Line
	5200 5900 5100 5900
Wire Wire Line
	3900 5300 4000 5300
Wire Wire Line
	7050 1600 7200 1600
Wire Wire Line
	7050 1300 7200 1300
Wire Wire Line
	7050 3500 7200 3500
Wire Wire Line
	7050 3600 7200 3600
Connection ~ 10000 2250
Wire Wire Line
	10750 1650 10900 1650
Wire Wire Line
	10900 1650 10900 2250
Wire Wire Line
	10900 2250 10750 2250
Wire Wire Line
	9100 1900 9750 1900
Wire Wire Line
	9750 1900 9750 1650
Wire Wire Line
	9750 1650 10350 1650
Wire Wire Line
	7050 2100 7050 1100
Connection ~ 7050 1600
Wire Wire Line
	9650 2750 9100 2750
Connection ~ 4600 2250
Wire Wire Line
	5700 2650 5850 2650
Wire Wire Line
	5850 2650 5850 2750
Connection ~ 5750 2650
Wire Wire Line
	4600 2650 4600 2150
Wire Wire Line
	9900 3100 9950 3100
Wire Wire Line
	10850 3100 10450 3100
Wire Wire Line
	2600 1900 2550 1900
Connection ~ 2550 1900
Wire Wire Line
	2550 2800 2550 2550
Wire Wire Line
	3000 2700 3050 2700
Wire Wire Line
	3050 2700 3050 1350
Connection ~ 3050 2250
Wire Wire Line
	9100 2900 9950 2900
Wire Wire Line
	9100 1700 9650 1700
Wire Wire Line
	9100 1500 9650 1500
Wire Wire Line
	9100 1300 9650 1300
Wire Wire Line
	9100 2250 9650 2250
Wire Wire Line
	9100 2450 9650 2450
Wire Wire Line
	9650 2650 9100 2650
Wire Wire Line
	9100 3200 9650 3200
Wire Wire Line
	9100 3400 9650 3400
Wire Wire Line
	9100 3600 9650 3600
Text Label 9650 1800 2    60   ~ 0
SPI_SCK
Text Label 9650 1700 2    60   ~ 0
SPI_MISO
Text Label 9650 1600 2    60   ~ 0
SPI_MOSI
Text Label 9650 1500 2    60   ~ 0
SPI_SS
Text Label 9650 2650 2    60   ~ 0
I2C_SCL
Text Label 9650 2550 2    60   ~ 0
I2C_SDA
Text Label 9650 2450 2    60   ~ 0
AIN_4
Text Label 9650 2350 2    60   ~ 0
AIN_3
Text Label 9650 2250 2    60   ~ 0
AIN_2
Text Label 9650 2150 2    60   ~ 0
AIN_1
Text Label 9650 1400 2    60   ~ 0
OUT_4
Text Label 9650 1300 2    60   ~ 0
OUT_3
Text Label 9650 3600 2    60   ~ 0
OUT_2
Text Label 9650 3500 2    60   ~ 0
OUT_1
Text Label 9650 3400 2    60   ~ 0
IN_4
Text Label 9650 3300 2    60   ~ 0
IN_3
Text Label 9650 3200 2    60   ~ 0
IN_2
Text Label 9650 3100 2    60   ~ 0
IN_1
$Comp
L C C?
U 1 1 5046151E
P 2800 2700
F 0 "C?" H 2850 2800 50  0000 L CNN
F 1 "100nF" H 2850 2600 50  0000 L CNN
	1    2800 2700
	0    -1   -1   0   
$EndComp
$Comp
L C C?
U 1 1 504614F3
P 2800 1900
F 0 "C?" H 2850 2000 50  0000 L CNN
F 1 "100nF" H 2850 1800 50  0000 L CNN
	1    2800 1900
	0    -1   -1   0   
$EndComp
Text Label 10850 3100 2    60   ~ 0
CPU_TX
Text Label 10850 2900 2    60   ~ 0
CPU_RX
$Comp
L R R?
U 1 1 504612FB
P 10200 2900
F 0 "R?" V 10280 2900 50  0000 C CNN
F 1 "1k" V 10200 2900 50  0000 C CNN
	1    10200 2900
	0    -1   -1   0   
$EndComp
$Comp
L R R?
U 1 1 504612F7
P 10200 3100
F 0 "R?" V 10280 3100 50  0000 C CNN
F 1 "1k" V 10200 3100 50  0000 C CNN
	1    10200 3100
	0    -1   -1   0   
$EndComp
$Comp
L +5V #PWR?
U 1 1 5046127B
P 4600 1500
F 0 "#PWR?" H 4600 1590 20  0001 C CNN
F 1 "+5V" H 4600 1590 30  0000 C CNN
	1    4600 1500
	1    0    0    -1  
$EndComp
$Comp
L R R?
U 1 1 50461273
P 4600 1900
F 0 "R?" V 4680 1900 50  0000 C CNN
F 1 "10k" V 4600 1900 50  0000 C CNN
	1    4600 1900
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 5046125F
P 5850 2750
F 0 "#PWR?" H 5850 2750 30  0001 C CNN
F 1 "GND" H 5850 2680 30  0001 C CNN
	1    5850 2750
	1    0    0    -1  
$EndComp
$Comp
L DPST SW?
U 1 1 50461225
P 5200 2450
F 0 "SW?" H 5200 2550 70  0000 C CNN
F 1 "RESET" H 5200 2350 70  0000 C CNN
	1    5200 2450
	1    0    0    -1  
$EndComp
Text Label 4050 2250 0    60   ~ 0
CPU_RESET
Text Label 9650 2750 2    60   ~ 0
CPU_RESET
$Comp
L C C?
U 1 1 5046070D
P 7050 2300
F 0 "C?" H 7100 2400 50  0000 L CNN
F 1 "100nF" H 7100 2200 50  0000 L CNN
	1    7050 2300
	1    0    0    -1  
$EndComp
$Comp
L CRYSTAL X?
U 1 1 50460602
P 10000 1950
F 0 "X?" H 10000 2100 60  0000 C CNN
F 1 "16MHz" H 10000 1800 60  0000 C CNN
	1    10000 1950
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR?
U 1 1 504605DC
P 11100 2050
F 0 "#PWR?" H 11100 2050 30  0001 C CNN
F 1 "GND" H 11100 1980 30  0001 C CNN
	1    11100 2050
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 5046059C
P 10550 2250
F 0 "C?" H 10600 2350 50  0000 L CNN
F 1 "22pF" H 10600 2150 50  0000 L CNN
	1    10550 2250
	0    -1   -1   0   
$EndComp
$Comp
L C C?
U 1 1 50460585
P 10550 1650
F 0 "C?" H 10600 1750 50  0000 L CNN
F 1 "22pF" H 10600 1550 50  0000 L CNN
	1    10550 1650
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR?
U 1 1 5046055E
P 7050 3700
F 0 "#PWR?" H 7050 3700 30  0001 C CNN
F 1 "GND" H 7050 3630 30  0001 C CNN
	1    7050 3700
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR?
U 1 1 5044D8F8
P 7050 1100
F 0 "#PWR?" H 7050 1190 20  0001 C CNN
F 1 "+5V" H 7050 1190 30  0000 C CNN
	1    7050 1100
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 5044D24D
P 4200 5300
F 0 "C?" H 4250 5400 50  0000 L CNN
F 1 "100nF" H 4250 5200 50  0000 L CNN
	1    4200 5300
	0    -1   -1   0   
$EndComp
$Comp
L +5V #PWR?
U 1 1 5044D1FA
P 5350 5450
F 0 "#PWR?" H 5350 5540 20  0001 C CNN
F 1 "+5V" H 5350 5540 30  0000 C CNN
	1    5350 5450
	1    0    0    -1  
$EndComp
$Comp
L R R?
U 1 1 5044D1E5
P 4850 5900
F 0 "R?" V 4930 5900 50  0000 C CNN
F 1 "1k" V 4850 5900 50  0000 C CNN
	1    4850 5900
	0    -1   -1   0   
$EndComp
$Comp
L R R?
U 1 1 5044D1D8
P 4850 5600
F 0 "R?" V 4930 5600 50  0000 C CNN
F 1 "1k" V 4850 5600 50  0000 C CNN
	1    4850 5600
	0    -1   -1   0   
$EndComp
$Comp
L LED D?
U 1 1 5044D1AB
P 4350 5900
F 0 "D?" H 4350 6000 50  0000 C CNN
F 1 "LED" H 4350 5800 50  0000 C CNN
	1    4350 5900
	-1   0    0    -1  
$EndComp
$Comp
L LED D?
U 1 1 5044D18D
P 4350 5600
F 0 "D?" H 4350 5700 50  0000 C CNN
F 1 "LED" H 4350 5500 50  0000 C CNN
	1    4350 5600
	-1   0    0    -1  
$EndComp
Text Label 4950 5200 2    60   ~ 0
CPU_RESET
Text Label 4400 5000 2    60   ~ 0
CPU_TX
Text Label 4400 4900 2    60   ~ 0
CPU_RX
$Comp
L GND #PWR?
U 1 1 5044CF9C
P 1500 5500
F 0 "#PWR?" H 1500 5500 30  0001 C CNN
F 1 "GND" H 1500 5430 30  0001 C CNN
	1    1500 5500
	1    0    0    -1  
$EndComp
$Comp
L USB_2 J?
U 1 1 5044CF68
P 1200 5250
F 0 "J?" H 1125 5500 60  0000 C CNN
F 1 "USB_2" H 1250 4950 60  0001 C CNN
F 4 "VCC" H 1525 5400 50  0001 C CNN "VCC"
F 5 "D+" H 1500 5300 50  0001 C CNN "Data+"
F 6 "D-" H 1500 5200 50  0001 C CNN "Data-"
F 7 "GND" H 1525 5100 50  0001 C CNN "Ground"
	1    1200 5250
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 5044CEAC
P 1650 6500
F 0 "C?" H 1700 6600 50  0000 L CNN
F 1 "100nF" H 1700 6400 50  0000 L CNN
	1    1650 6500
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 5044CE9E
P 1650 6750
F 0 "#PWR?" H 1650 6750 30  0001 C CNN
F 1 "GND" H 1650 6680 30  0001 C CNN
	1    1650 6750
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR?
U 1 1 5044CE54
P 1650 4750
F 0 "#PWR?" H 1650 4840 20  0001 C CNN
F 1 "+5V" H 1650 4840 30  0000 C CNN
	1    1650 4750
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 5044CE26
P 3000 7000
F 0 "#PWR?" H 3000 7000 30  0001 C CNN
F 1 "GND" H 3000 6930 30  0001 C CNN
	1    3000 7000
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 5044CDA7
P 1250 2150
F 0 "#PWR?" H 1250 2150 30  0001 C CNN
F 1 "GND" H 1250 2080 30  0001 C CNN
	1    1250 2150
	1    0    0    -1  
$EndComp
$Comp
L CONN_2 P?
U 1 1 5044CD89
P 850 1950
F 0 "P?" V 800 1950 40  0000 C CNN
F 1 "PWR_24V" V 900 1950 40  0000 C CNN
	1    850  1950
	-1   0    0    -1  
$EndComp
$Comp
L PWR_FLAG #FLG?
U 1 1 5044CD6E
P 1300 1750
F 0 "#FLG?" H 1300 1845 30  0001 C CNN
F 1 "PWR_FLAG" H 1300 1930 30  0000 C CNN
	1    1300 1750
	1    0    0    -1  
$EndComp
$Comp
L R R?
U 1 1 5044CB7A
P 1700 1850
F 0 "R?" V 1780 1850 50  0000 C CNN
F 1 "33" V 1700 1850 50  0000 C CNN
	1    1700 1850
	0    1    1    0   
$EndComp
$Comp
L +5V #PWR?
U 1 1 5044CB5B
P 3050 1350
F 0 "#PWR?" H 3050 1440 20  0001 C CNN
F 1 "+5V" H 3050 1440 30  0000 C CNN
	1    3050 1350
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 5044CB49
P 2550 2800
F 0 "#PWR?" H 2550 2800 30  0001 C CNN
F 1 "GND" H 2550 2730 30  0001 C CNN
	1    2550 2800
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 5044CB1F
P 2550 2000
F 0 "#PWR?" H 2550 2000 30  0001 C CNN
F 1 "GND" H 2550 1930 30  0001 C CNN
	1    2550 2000
	1    0    0    -1  
$EndComp
$Comp
L 7805 U?
U 1 1 5044CAEB
P 2550 2300
F 0 "U?" H 2700 2104 60  0000 C CNN
F 1 "7805" H 2550 2500 60  0000 C CNN
	1    2550 2300
	1    0    0    -1  
$EndComp
$Comp
L 7805 U?
U 1 1 5044CAE7
P 2550 1500
F 0 "U?" H 2700 1304 60  0000 C CNN
F 1 "7805" H 2550 1700 60  0000 C CNN
	1    2550 1500
	1    0    0    -1  
$EndComp
$Comp
L FT232RL U?
U 1 1 5044C422
P 3000 5600
F 0 "U?" H 3000 6500 60  0000 C CNN
F 1 "FT232RL" H 3400 4600 60  0000 L CNN
	1    3000 5600
	1    0    0    -1  
$EndComp
$Comp
L ATMEGA328P-P IC?
U 1 1 5044C1FA
P 8100 2400
F 0 "IC?" H 7400 3650 50  0000 L BNN
F 1 "ATMEGA328P-P" H 8300 1000 50  0000 L BNN
F 2 "DIL28" H 7500 1050 50  0001 C CNN
	1    8100 2400
	1    0    0    -1  
$EndComp
$EndSCHEMATC
